```mermaid
C4Deployment

    Deployment_Node(deployment, "Architecture", ""){
{{#each C4model.elements}}
{{#unless parentId}}
{{#if (eq elementType "Person")}}
        Person({{uniqueId}}, "{{name}}", "{{description}}")
{{else}}
{{#if children}}
        Deployment_Node({{uniqueId}}, "{{name}}", "{{description}}"){
{{#each children}}
            {{#with (lookup ../../C4model.elements this)}}
{{#if children}}
            Deployment_Node({{uniqueId}}, "{{name}}", "{{description}}"){
{{#each children}}
                {{#with (lookup ../../../../C4model.elements this)}}
                Container({{uniqueId}}, "{{name}}", "", "{{description}}")
                {{/with}}
{{/each}}
            }
{{else}}
            Container({{uniqueId}}, "{{name}}", "", "{{description}}")
{{/if}}
            {{/with}}
{{/each}}
        }
{{else}}
        Container({{uniqueId}}, "{{name}}", "", "{{description}}")
{{/if}}
{{/if}}
{{/unless}}
{{/each}}
    }

{{#each C4model.relationships}}
    Rel({{source}},{{destination}},"{{relationshipType}}")
{{/each}}

    UpdateLayoutConfig($c4ShapeInRow="3", $c4BoundaryInRow="2")
```